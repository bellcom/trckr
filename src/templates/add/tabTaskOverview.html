<!-- Table overview for time entries -->
<!--<div class="pull-right"><span class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus"</span></span></div>-->
<h4>Time</h4>

<table class="table table-condensed">
  <thead>
    <tr>
      <th>Start</th>
      <th>Stop</th>
      <th>Duration</th>
      <th>Edit</th>
    </tr>
  </thead>
  <tr ng-repeat="time_entry in task.time_entries">
    <td ng-hide="time_entry.edit">{{time_entry.start_formatted}}</td>
    <td ng-show="time_entry.edit"><input class="form-control" ng-model="time_entry.start_formatted" type="text"></td>
    <td ng-hide="time_entry.edit">{{time_entry.stop_formatted}}</td>
    <td ng-show="time_entry.edit"><input class="form-control" ng-model="time_entry.stop_formatted" type="text"></td>
    <td ng-hide="time_entry.edit">{{time_entry.duration_formatted}}</td>
    <td ng-show="time_entry.edit"><input class="form-control" ng-model="time_entry.duration_formatted" type="text"></td>
    <td>
      <div class="btn-group">
        <span ng-hide="time_entry.edit" ng-click="time_entry.edit = true;" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-edit"></span>
        </span>
        <span ng-show="time_entry.edit" ng-click="time_entry.edit = false; saveTimeEntry(time_entry)" class="btn btn-success btn-xs">
          <span class="glyphicon glyphicon-ok"></span>
        </span>
        <span class="btn btn-default btn-xs" ng-click="time_entry.delete = !time_entry.delete">
          <span class="glyphicon glyphicon-trash"></span>
        </span>
        <span ng-if="time_entry.delete" class="btn btn-danger btn-xs" ng-click="deleteTimeEntry(time_entry)">
          <span class="glyphicon glyphicon-ok"></span>
        </span>
      </div>
    </td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td>{{task.total_duration}}</td>
    <td></td>
  </tr>
</table>
<!-- Table overview for CRM info -->
<!--<div class="pull-right"><span class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"</span></span></div>-->
<h4>CRM</h4>
<span ng-hide="task.register_info">Not registered</span>
<table ng-show="task.register_info" class="table table-condensed">
  <tr>
    <td>Registered</td>
    <td>{{task.register_info.time_length}}</td>
  </tr>
  <tr>
    <td>Case</td>
    <td>{{task.register_info.case_id}}</td>
  </tr>
  <tr>
    <td>Date</td>
    <td>{{task.register_info.date_entered}}</td>
  </tr>
</table>
